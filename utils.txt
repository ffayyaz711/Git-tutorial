utiltty functions of version 3